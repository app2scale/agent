2023-10-13 11:17:49,986	WARNING deprecation.py:50 -- DeprecationWarning: `DirectStepOptimizer` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:51,899	INFO worker.py:1621 -- Started a local Ray instance.
2023-10-13 11:17:52,695	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
2023-10-13 11:17:52,696	WARNING algorithm_config.py:2572 -- Setting `exploration_config={'type': 'StochasticSampling'}` because you set `_enable_rl_module_api=False`. This exploration config was restored from a prior exploration config that was overriden when setting `_enable_rl_module_api=True`. This occurs because when RLModule API are enabled, exploration_config can not be set.
2023-10-13 11:17:52,697	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
/usr/local/lib/python3.10/dist-packages/ray/rllib/algorithms/algorithm.py:484: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
`UnifiedLogger` will be removed in Ray 2.7.
  return UnifiedLogger(config, logdir, loggers=None)
/usr/local/lib/python3.10/dist-packages/ray/tune/logger/unified.py:53: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
The `JsonLogger interface is deprecated in favor of the `ray.tune.json.JsonLoggerCallback` interface and will be removed in Ray 2.7.
  self._loggers.append(cls(self.config, self.logdir, self.trial))
/usr/local/lib/python3.10/dist-packages/ray/tune/logger/unified.py:53: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
The `CSVLogger interface is deprecated in favor of the `ray.tune.csv.CSVLoggerCallback` interface and will be removed in Ray 2.7.
  self._loggers.append(cls(self.config, self.logdir, self.trial))
/usr/local/lib/python3.10/dist-packages/ray/tune/logger/unified.py:53: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
The `TBXLogger interface is deprecated in favor of the `ray.tune.tensorboardx.TBXLoggerCallback` interface and will be removed in Ray 2.7.
  self._loggers.append(cls(self.config, self.logdir, self.trial))
2023-10-13 11:17:52,722	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
2023-10-13 11:17:52,724	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.fcnet.FullyConnectedNetwork` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,724	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_modelv2.TorchModelV2` has been deprecated. Use `ray.rllib.core.rl_module.rl_module.RLModule` instead. This will raise an error in the future!
2023-10-13 11:17:52,732	INFO policy.py:1294 -- Policy (worker=local) running on CPU.
2023-10-13 11:17:52,732	INFO torch_policy_v2.py:113 -- Found 0 visible cuda devices.
2023-10-13 11:17:52,733	WARNING deprecation.py:50 -- DeprecationWarning: `StochasticSampling` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,733	WARNING deprecation.py:50 -- DeprecationWarning: `Exploration` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,733	WARNING deprecation.py:50 -- DeprecationWarning: `Random` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,733	WARNING deprecation.py:50 -- DeprecationWarning: `ValueNetworkMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,734	WARNING deprecation.py:50 -- DeprecationWarning: `LearningRateSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,734	WARNING deprecation.py:50 -- DeprecationWarning: `EntropyCoeffSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,734	WARNING deprecation.py:50 -- DeprecationWarning: `KLCoeffMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:52,737	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_action_dist.TorchDistributionWrapper` has been deprecated. Use `ray.rllib.models.torch.torch_distributions.TorchCategorical` instead. This will raise an error in the future!
2023-10-13 11:17:52,747	INFO rollout_worker.py:1742 -- Built policy map: <PolicyMap lru-caching-capacity=100 policy-IDs=['default_policy']>
2023-10-13 11:17:52,747	INFO rollout_worker.py:1743 -- Built preprocessor map: {'default_policy': <ray.rllib.models.preprocessors.DictFlatteningPreprocessor object at 0x7cbd04d8b940>}
2023-10-13 11:17:52,747	INFO rollout_worker.py:550 -- Built filter map: defaultdict(<class 'ray.rllib.utils.filter.NoFilter'>, {'default_policy': <ray.rllib.utils.filter.NoFilter object at 0x7cbd04dc0820>})
2023-10-13 11:17:53,749	INFO policy_server_input.py:174 -- Starting connector server at localhost:9900
2023-10-13 11:17:53,750	WARNING util.py:68 -- Install gputil for GPU system monitoring.
2023-10-13 11:17:53,751	INFO rollout_worker.py:690 -- Generating sample batch of size 128
2023-10-13 11:17:56,755	INFO rollout_worker.py:732 -- Completed sample batch:

{}

2023-10-13 11:17:58,613	WARNING deprecation.py:50 -- DeprecationWarning: `DirectStepOptimizer` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,032	INFO policy_server_input.py:281 -- Sending worker creation args to client.
127.0.0.1 - - [13/Oct/2023 11:17:59] "POST / HTTP/1.1" 200 -
2023-10-13 11:17:59,093	INFO policy_client.py:350 -- The env you specified is not a supported (sub-)type of ExternalEnv. Attempting to convert it automatically to ExternalEnv.
2023-10-13 11:17:59,093	WARNING env.py:89 -- Env checking isn't implemented for RemoteBaseEnvs, ExternalMultiAgentEnv, ExternalEnvs or environments that are Ray actors.
2023-10-13 11:17:59,097	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
2023-10-13 11:17:59,100	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.fcnet.FullyConnectedNetwork` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,100	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_modelv2.TorchModelV2` has been deprecated. Use `ray.rllib.core.rl_module.rl_module.RLModule` instead. This will raise an error in the future!
2023-10-13 11:17:59,107	INFO policy.py:1294 -- Policy (worker=local) running on CPU.
2023-10-13 11:17:59,107	INFO torch_policy_v2.py:113 -- Found 0 visible cuda devices.
2023-10-13 11:17:59,108	WARNING deprecation.py:50 -- DeprecationWarning: `StochasticSampling` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,108	WARNING deprecation.py:50 -- DeprecationWarning: `Exploration` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,108	WARNING deprecation.py:50 -- DeprecationWarning: `Random` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,109	WARNING deprecation.py:50 -- DeprecationWarning: `ValueNetworkMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,109	WARNING deprecation.py:50 -- DeprecationWarning: `LearningRateSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,109	WARNING deprecation.py:50 -- DeprecationWarning: `EntropyCoeffSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,109	WARNING deprecation.py:50 -- DeprecationWarning: `KLCoeffMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:17:59,112	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_action_dist.TorchDistributionWrapper` has been deprecated. Use `ray.rllib.models.torch.torch_distributions.TorchCategorical` instead. This will raise an error in the future!
2023-10-13 11:17:59,122	INFO rollout_worker.py:1742 -- Built policy map: <PolicyMap lru-caching-capacity=100 policy-IDs=['default_policy']>
2023-10-13 11:17:59,122	INFO rollout_worker.py:1743 -- Built preprocessor map: {'default_policy': <ray.rllib.models.preprocessors.DictFlatteningPreprocessor object at 0x79a97984d060>}
2023-10-13 11:17:59,122	INFO rollout_worker.py:550 -- Built filter map: defaultdict(<class 'ray.rllib.utils.filter.NoFilter'>, {'default_policy': <ray.rllib.utils.filter.NoFilter object at 0x79a97984dfc0>})
2023-10-13 11:17:59,122	INFO policy_client.py:315 -- Generating new batch of experiences.
2023-10-13 11:17:59,123	INFO rollout_worker.py:690 -- Generating sample batch of size 128
2023-10-13 11:18:01,522	INFO policy_client.py:286 -- Querying server for new policy weights.
2023-10-13 11:18:01,525	INFO policy_server_input.py:284 -- Sending worker weights to client.
127.0.0.1 - - [13/Oct/2023 11:18:01] "POST / HTTP/1.1" 200 -
2023-10-13 11:18:01,529	INFO policy_client.py:294 -- Updating rollout worker weights and global vars {'timestep': 0, 'num_grad_updates_per_policy': defaultdict(<class 'int'>, {})}.
2023-10-13 11:18:01,541	INFO sampler.py:618 -- Raw obs from env: { 'a5ae70eea34c42229e1b8517c78e65d8': { 'agent0': { '0replica': 9,
                                                    '1cpu': 9,
                                                    '2heap': 9,
                                                    '3used_cpu': np.ndarray((1,), dtype=float32, min=0.02, max=0.02, mean=0.02),
                                                    '4used_ram': np.ndarray((1,), dtype=float32, min=0.66, max=0.66, mean=0.66)}}}
2023-10-13 11:18:01,541	INFO sampler.py:619 -- Info return from env: {'a5ae70eea34c42229e1b8517c78e65d8': {'agent0': {}}}
2023-10-13 11:18:01,542	INFO sampler.py:861 -- Preprocessed obs: np.ndarray((29,), dtype=float32, min=0.0, max=1.0, mean=0.127)
2023-10-13 11:18:01,542	INFO sampler.py:866 -- Filtered obs: np.ndarray((29,), dtype=float32, min=0.0, max=1.0, mean=0.127)
2023-10-13 11:18:01,543	INFO sampler.py:1152 -- Inputs to compute_actions():

{ 'default_policy': [ { 'data': { 'agent_id': 'agent0',
                                  'env_id': 'a5ae70eea34c42229e1b8517c78e65d8',
                                  'info': {},
                                  'obs': np.ndarray((29,), dtype=float32, min=0.0, max=1.0, mean=0.127),
                                  'prev_action': None,
                                  'prev_reward': 0.0,
                                  'rnn_state': None},
                        'type': '_PolicyEvalData'}]}

2023-10-13 11:18:01,548	INFO sampler.py:1179 -- Outputs of compute_actions():

{ 'default_policy': ( np.ndarray((1,), dtype=int32, min=5.0, max=5.0, mean=5.0),
                      [],
                      { 'action_dist_inputs': np.ndarray((1, 7), dtype=float32, min=-0.002, max=0.003, mean=-0.0),
                        'action_logp': np.ndarray((1,), dtype=float32, min=-1.946, max=-1.946, mean=-1.946),
                        'action_prob': np.ndarray((1,), dtype=float32, min=0.143, max=0.143, mean=0.143),
                        'vf_preds': np.ndarray((1,), dtype=float32, min=-0.001, max=-0.001, mean=-0.001)})}

2023-10-13 11:19:06,068	INFO policy_client.py:286 -- Querying server for new policy weights.
2023-10-13 11:19:06,072	INFO policy_server_input.py:284 -- Sending worker weights to client.
127.0.0.1 - - [13/Oct/2023 11:19:06] "POST / HTTP/1.1" 200 -
2023-10-13 11:19:06,075	INFO policy_client.py:294 -- Updating rollout worker weights and global vars {'timestep': 0, 'num_grad_updates_per_policy': defaultdict(<class 'int'>, {})}.
2023-10-13 11:20:11,193	INFO policy_client.py:286 -- Querying server for new policy weights.
2023-10-13 11:20:11,195	INFO policy_server_input.py:284 -- Sending worker weights to client.
127.0.0.1 - - [13/Oct/2023 11:20:11] "POST / HTTP/1.1" 200 -
2023-10-13 11:20:11,198	INFO policy_client.py:294 -- Updating rollout worker weights and global vars {'timestep': 0, 'num_grad_updates_per_policy': defaultdict(<class 'int'>, {})}.
*** SIGTERM received at time=1697186970 on cpu 1 ***
Updated state is outside the observation space.
          action replica cpu  ... num_request num_failures expected_tps
0  INCREASE_HEAP       9   9  ...         206            0         3000

[1 rows x 15 columns]
All pods are available!
Collecting metrics...
          action replica cpu  ... num_request num_failures expected_tps
0  INCREASE_HEAP       9   9  ...         206            0         3000
1     DO_NOTHING       9   9  ...        2961            0         3000

[2 rows x 15 columns]
Updated state is outside the observation space.
             action replica cpu  ... num_request num_failures expected_tps
0     INCREASE_HEAP       9   9  ...         206            0         3000
1        DO_NOTHING       9   9  ...        2961            0         3000
2  INCREASE_REPLICA       9   9  ...        3088            0         3000

[3 rows x 15 columns]
Updated state is outside the observation space.
             action replica cpu  ... num_request num_failures expected_tps
0     INCREASE_HEAP       9   9  ...         206            0         3000
1        DO_NOTHING       9   9  ...        2961            0         3000
2  INCREASE_REPLICA       9   9  ...        3088            0         3000
3      INCREASE_CPU       9   9  ...        3150            0         3000

[4 rows x 15 columns]
All pods are available!
Collecting metrics...
             action replica cpu  ... num_request num_failures expected_tps
0     INCREASE_HEAP       9   9  ...         206            0         3000
1        DO_NOTHING       9   9  ...        2961            0         3000
2  INCREASE_REPLICA       9   9  ...        3088            0         3000
3      INCREASE_CPU       9   9  ...        3150            0         3000
4        DO_NOTHING       9   9  ...        2989            0         3000

[5 rows x 15 columns]
All pods are available!
Collecting metrics...
PC: @     0x7cbdc31e17ed  (unknown)  select
    @     0x7cbdc3108520  (unknown)  (unknown)
[2023-10-13 11:49:30,497 E 3677985 3677985] logging.cc:361: *** SIGTERM received at time=1697186970 on cpu 1 ***
[2023-10-13 11:49:30,497 E 3677985 3677985] logging.cc:361: PC: @     0x7cbdc31e17ed  (unknown)  select
[2023-10-13 11:49:30,498 E 3677985 3677985] logging.cc:361:     @     0x7cbdc3108520  (unknown)  (unknown)
2023-10-13 11:52:10,183	WARNING deprecation.py:50 -- DeprecationWarning: `DirectStepOptimizer` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:12,090	INFO worker.py:1621 -- Started a local Ray instance.
Traceback (most recent call last):
  File "/root/agent/server_client/app2scale_teastore_server_v2.py", line 8, in <module>
    ray.init()
  File "/usr/local/lib/python3.10/dist-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.10/dist-packages/ray/_private/worker.py", line 1623, in init
    connect(
  File "/usr/local/lib/python3.10/dist-packages/ray/_private/worker.py", line 2246, in connect
    worker.core_worker = ray._raylet.CoreWorker(
KeyboardInterrupt
Exception ignored in atexit callback: <function shutdown at 0x79ab4a19cf70>
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.10/dist-packages/ray/_private/worker.py", line 1685, in shutdown
    time.sleep(0.5)
KeyboardInterrupt: 
2023-10-13 11:52:21,232	WARNING deprecation.py:50 -- DeprecationWarning: `DirectStepOptimizer` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:23,057	INFO worker.py:1621 -- Started a local Ray instance.
2023-10-13 11:52:23,960	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
2023-10-13 11:52:23,960	WARNING algorithm_config.py:2572 -- Setting `exploration_config={'type': 'StochasticSampling'}` because you set `_enable_rl_module_api=False`. This exploration config was restored from a prior exploration config that was overriden when setting `_enable_rl_module_api=True`. This occurs because when RLModule API are enabled, exploration_config can not be set.
2023-10-13 11:52:23,961	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
/usr/local/lib/python3.10/dist-packages/ray/rllib/algorithms/algorithm.py:484: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
`UnifiedLogger` will be removed in Ray 2.7.
  return UnifiedLogger(config, logdir, loggers=None)
/usr/local/lib/python3.10/dist-packages/ray/tune/logger/unified.py:53: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
The `JsonLogger interface is deprecated in favor of the `ray.tune.json.JsonLoggerCallback` interface and will be removed in Ray 2.7.
  self._loggers.append(cls(self.config, self.logdir, self.trial))
/usr/local/lib/python3.10/dist-packages/ray/tune/logger/unified.py:53: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
The `CSVLogger interface is deprecated in favor of the `ray.tune.csv.CSVLoggerCallback` interface and will be removed in Ray 2.7.
  self._loggers.append(cls(self.config, self.logdir, self.trial))
/usr/local/lib/python3.10/dist-packages/ray/tune/logger/unified.py:53: RayDeprecationWarning: This API is deprecated and may be removed in future Ray releases. You could suppress this warning by setting env variable PYTHONWARNINGS="ignore::DeprecationWarning"
The `TBXLogger interface is deprecated in favor of the `ray.tune.tensorboardx.TBXLoggerCallback` interface and will be removed in Ray 2.7.
  self._loggers.append(cls(self.config, self.logdir, self.trial))
2023-10-13 11:52:23,988	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
2023-10-13 11:52:23,991	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.fcnet.FullyConnectedNetwork` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:23,991	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_modelv2.TorchModelV2` has been deprecated. Use `ray.rllib.core.rl_module.rl_module.RLModule` instead. This will raise an error in the future!
2023-10-13 11:52:24,053	INFO policy.py:1294 -- Policy (worker=local) running on CPU.
2023-10-13 11:52:24,053	INFO torch_policy_v2.py:113 -- Found 0 visible cuda devices.
2023-10-13 11:52:24,056	WARNING deprecation.py:50 -- DeprecationWarning: `StochasticSampling` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,056	WARNING deprecation.py:50 -- DeprecationWarning: `Exploration` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,056	WARNING deprecation.py:50 -- DeprecationWarning: `Random` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,057	WARNING deprecation.py:50 -- DeprecationWarning: `ValueNetworkMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,057	WARNING deprecation.py:50 -- DeprecationWarning: `LearningRateSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,057	WARNING deprecation.py:50 -- DeprecationWarning: `EntropyCoeffSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,057	WARNING deprecation.py:50 -- DeprecationWarning: `KLCoeffMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:24,070	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_action_dist.TorchDistributionWrapper` has been deprecated. Use `ray.rllib.models.torch.torch_distributions.TorchCategorical` instead. This will raise an error in the future!
2023-10-13 11:52:24,141	INFO rollout_worker.py:1742 -- Built policy map: <PolicyMap lru-caching-capacity=100 policy-IDs=['default_policy']>
2023-10-13 11:52:24,141	INFO rollout_worker.py:1743 -- Built preprocessor map: {'default_policy': <ray.rllib.models.preprocessors.DictFlatteningPreprocessor object at 0x7b95cbd17a30>}
2023-10-13 11:52:24,141	INFO rollout_worker.py:550 -- Built filter map: defaultdict(<class 'ray.rllib.utils.filter.NoFilter'>, {'default_policy': <ray.rllib.utils.filter.NoFilter object at 0x7b95cbd4c910>})
2023-10-13 11:52:25,142	INFO policy_server_input.py:174 -- Starting connector server at localhost:9900
2023-10-13 11:52:25,144	WARNING util.py:68 -- Install gputil for GPU system monitoring.
2023-10-13 11:52:25,144	INFO rollout_worker.py:690 -- Generating sample batch of size 128
2023-10-13 11:52:26,956	WARNING deprecation.py:50 -- DeprecationWarning: `DirectStepOptimizer` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,379	INFO policy_server_input.py:281 -- Sending worker creation args to client.
127.0.0.1 - - [13/Oct/2023 11:52:27] "POST / HTTP/1.1" 200 -
2023-10-13 11:52:27,435	INFO policy_client.py:350 -- The env you specified is not a supported (sub-)type of ExternalEnv. Attempting to convert it automatically to ExternalEnv.
2023-10-13 11:52:27,435	WARNING env.py:89 -- Env checking isn't implemented for RemoteBaseEnvs, ExternalMultiAgentEnv, ExternalEnvs or environments that are Ray actors.
2023-10-13 11:52:27,439	WARNING algorithm_config.py:2558 -- Setting `exploration_config={}` because you set `_enable_rl_module_api=True`. When RLModule API are enabled, exploration_config can not be set. If you want to implement custom exploration behaviour, please modify the `forward_exploration` method of the RLModule at hand. On configs that have a default exploration config, this must be done with `config.exploration_config={}`.
2023-10-13 11:52:27,441	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.fcnet.FullyConnectedNetwork` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,441	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_modelv2.TorchModelV2` has been deprecated. Use `ray.rllib.core.rl_module.rl_module.RLModule` instead. This will raise an error in the future!
2023-10-13 11:52:27,448	INFO policy.py:1294 -- Policy (worker=local) running on CPU.
2023-10-13 11:52:27,448	INFO torch_policy_v2.py:113 -- Found 0 visible cuda devices.
2023-10-13 11:52:27,449	WARNING deprecation.py:50 -- DeprecationWarning: `StochasticSampling` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,449	WARNING deprecation.py:50 -- DeprecationWarning: `Exploration` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,449	WARNING deprecation.py:50 -- DeprecationWarning: `Random` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,450	WARNING deprecation.py:50 -- DeprecationWarning: `ValueNetworkMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,450	WARNING deprecation.py:50 -- DeprecationWarning: `LearningRateSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,450	WARNING deprecation.py:50 -- DeprecationWarning: `EntropyCoeffSchedule` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,450	WARNING deprecation.py:50 -- DeprecationWarning: `KLCoeffMixin` has been deprecated. This will raise an error in the future!
2023-10-13 11:52:27,453	WARNING deprecation.py:50 -- DeprecationWarning: `ray.rllib.models.torch.torch_action_dist.TorchDistributionWrapper` has been deprecated. Use `ray.rllib.models.torch.torch_distributions.TorchCategorical` instead. This will raise an error in the future!
2023-10-13 11:52:27,462	INFO rollout_worker.py:1742 -- Built policy map: <PolicyMap lru-caching-capacity=100 policy-IDs=['default_policy']>
2023-10-13 11:52:27,462	INFO rollout_worker.py:1743 -- Built preprocessor map: {'default_policy': <ray.rllib.models.preprocessors.DictFlatteningPreprocessor object at 0x7a0ff34bd000>}
2023-10-13 11:52:27,462	INFO rollout_worker.py:550 -- Built filter map: defaultdict(<class 'ray.rllib.utils.filter.NoFilter'>, {'default_policy': <ray.rllib.utils.filter.NoFilter object at 0x7a0ff34bdf60>})
2023-10-13 11:52:27,463	INFO policy_client.py:315 -- Generating new batch of experiences.
2023-10-13 11:52:27,463	INFO rollout_worker.py:690 -- Generating sample batch of size 128
2023-10-13 11:52:28,148	INFO rollout_worker.py:732 -- Completed sample batch:

{}

2023-10-13 11:52:29,856	INFO policy_client.py:286 -- Querying server for new policy weights.
2023-10-13 11:52:29,858	INFO policy_server_input.py:284 -- Sending worker weights to client.
127.0.0.1 - - [13/Oct/2023 11:52:29] "POST / HTTP/1.1" 200 -
2023-10-13 11:52:29,862	INFO policy_client.py:294 -- Updating rollout worker weights and global vars {'timestep': 0, 'num_grad_updates_per_policy': defaultdict(<class 'int'>, {})}.
2023-10-13 11:52:29,867	INFO sampler.py:618 -- Raw obs from env: { '30d86b99061d46e1a0f74cf88dab5abf': { 'agent0': { '0replica': 9,
                                                    '1cpu': 9,
                                                    '2heap': 8,
                                                    '3used_cpu': np.ndarray((1,), dtype=float32, min=0.02, max=0.02, mean=0.02),
                                                    '4used_ram': np.ndarray((1,), dtype=float32, min=0.72, max=0.72, mean=0.72)}}}
2023-10-13 11:52:29,868	INFO sampler.py:619 -- Info return from env: {'30d86b99061d46e1a0f74cf88dab5abf': {'agent0': {}}}
2023-10-13 11:52:29,868	INFO sampler.py:861 -- Preprocessed obs: np.ndarray((29,), dtype=float32, min=0.0, max=1.0, mean=0.129)
2023-10-13 11:52:29,868	INFO sampler.py:866 -- Filtered obs: np.ndarray((29,), dtype=float32, min=0.0, max=1.0, mean=0.129)
2023-10-13 11:52:29,870	INFO sampler.py:1152 -- Inputs to compute_actions():

{ 'default_policy': [ { 'data': { 'agent_id': 'agent0',
                                  'env_id': '30d86b99061d46e1a0f74cf88dab5abf',
                                  'info': {},
                                  'obs': np.ndarray((29,), dtype=float32, min=0.0, max=1.0, mean=0.129),
                                  'prev_action': None,
                                  'prev_reward': 0.0,
                                  'rnn_state': None},
                        'type': '_PolicyEvalData'}]}

2023-10-13 11:52:29,873	INFO sampler.py:1179 -- Outputs of compute_actions():

{ 'default_policy': ( np.ndarray((1,), dtype=int32, min=2.0, max=2.0, mean=2.0),
                      [],
                      { 'action_dist_inputs': np.ndarray((1, 7), dtype=float32, min=-0.004, max=0.001, mean=-0.002),
                        'action_logp': np.ndarray((1,), dtype=float32, min=-1.946, max=-1.946, mean=-1.946),
                        'action_prob': np.ndarray((1,), dtype=float32, min=0.143, max=0.143, mean=0.143),
                        'vf_preds': np.ndarray((1,), dtype=float32, min=0.0, max=0.0, mean=0.0)})}

2023-10-13 11:54:04,089	INFO policy_client.py:286 -- Querying server for new policy weights.
2023-10-13 11:54:04,091	INFO policy_server_input.py:284 -- Sending worker weights to client.
127.0.0.1 - - [13/Oct/2023 11:54:04] "POST / HTTP/1.1" 200 -
2023-10-13 11:54:04,095	INFO policy_client.py:294 -- Updating rollout worker weights and global vars {'timestep': 0, 'num_grad_updates_per_policy': defaultdict(<class 'int'>, {})}.
2023-10-13 11:56:28,553	INFO policy_client.py:286 -- Querying server for new policy weights.
2023-10-13 11:56:28,556	INFO policy_server_input.py:284 -- Sending worker weights to client.
127.0.0.1 - - [13/Oct/2023 11:56:28] "POST / HTTP/1.1" 200 -
2023-10-13 11:56:28,559	INFO policy_client.py:294 -- Updating rollout worker weights and global vars {'timestep': 0, 'num_grad_updates_per_policy': defaultdict(<class 'int'>, {})}.
*** SIGTERM received at time=1697187732 on cpu 0 ***
update_and_deployment
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
Waiting for all pods to be running...
All pods are available!
Collecting metrics...
             action replica cpu  ... num_request num_failures expected_tps
0  DECREASE_REPLICA       8   9  ...        2996            0         3000

[1 rows x 15 columns]
update_and_deployment
All pods are available!
Collecting metrics...
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
             action replica cpu  ... num_request num_failures expected_tps
0  DECREASE_REPLICA       8   9  ...        2996            0         3000
1     DECREASE_HEAP       8   9  ...        2746            0         3000

[2 rows x 15 columns]
update_and_deployment
All pods are available!
Collecting metrics...
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
Empty prometheus query... (Trying again)
PC: @     0x7b968a1527ed  (unknown)  select
    @     0x7b968a079520  (unknown)  (unknown)
[2023-10-13 12:02:12,556 E 3682505 3682505] logging.cc:361: *** SIGTERM received at time=1697187732 on cpu 0 ***
[2023-10-13 12:02:12,556 E 3682505 3682505] logging.cc:361: PC: @     0x7b968a1527ed  (unknown)  select
[2023-10-13 12:02:12,557 E 3682505 3682505] logging.cc:361:     @     0x7b968a079520  (unknown)  (unknown)
